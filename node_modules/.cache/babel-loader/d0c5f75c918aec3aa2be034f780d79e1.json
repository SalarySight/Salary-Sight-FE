{"ast":null,"code":"import _slicedToArray from\"/Users/darlaevans/turing/mod4/salary-sight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{Route,Switch}from\"react-router-dom\";import Header from\"../Header/Header\";import Cover from\"../Cover/Cover\";import SlideDrawer from\"../Form/SlideDrawer\";import Backdrop from\"../Form/Backdrop\";import MainPage from\"../Form/MainPage\";import SalaryCards from\"../SalaryCards/SalaryCards\";import Loader from\"../Loader/Loader\";import NoMatchError from\"../NoMatchError/NoMatchError\";import NotFound from\"../NotFound/NotFound\";import Error from\"../Error/Error\";import FilterForm from\"../FilterForm/FilterForm\";import{useQuery}from\"@apollo/client\";import{GET_POST}from\"../..\";import{filterByCategories,cleanFilters}from\"../FilterForm/helperFunctions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),drawerOpen=_useState2[0],setDrawerOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),salaryPosts=_useState4[0],setSalaryPosts=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filterPosts=_useState6[0],setFilterPosts=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),filterError=_useState8[0],setFilterError=_useState8[1];var _useQuery=useQuery(GET_POST),data=_useQuery.data,loading=_useQuery.loading,error=_useQuery.error;var drawerToggleClickHandler=function drawerToggleClickHandler(){setDrawerOpen(!drawerOpen);};var backdropClickHandler=function backdropClickHandler(){setDrawerOpen(false);};var handleFilters=function handleFilters(filterObj){var cleanedFilters=cleanFilters(filterObj);var salaryObject=filterObj.salary;setFilterPosts(filterByCategories(cleanedFilters,salaryPosts,salaryObject));if(filterPosts.length===0){setFilterError(true);}else if(filterPosts.length!==0){return filterPosts;}else{return salaryPosts;}};var clearFilterButton=function clearFilterButton(e){if(filterPosts&&!loading){setFilterPosts([]);setFilterError(false);}};useEffect(function(){if(loading){console.log(\"loading\",loading);}else if(error){console.log(\"error\",error);}else{setSalaryPosts(data.posts);}},[data,loading,error]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:function render(_ref){var match=_ref.match;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{match:match}),/*#__PURE__*/_jsx(Cover,{data:data}),/*#__PURE__*/_jsx(MainPage,{toggle:drawerToggleClickHandler,match:match}),/*#__PURE__*/_jsx(SlideDrawer,{toggle:drawerToggleClickHandler,show:drawerOpen}),drawerOpen&&/*#__PURE__*/_jsx(Backdrop,{close:backdropClickHandler}),/*#__PURE__*/_jsx(FilterForm,{handleFilters:handleFilters,clearFilterButton:clearFilterButton}),loading&&/*#__PURE__*/_jsx(Loader,{}),!loading&&error&&/*#__PURE__*/_jsx(Error,{err:error}),!loading&&!error&&filterPosts.length===0&&!filterError&&/*#__PURE__*/_jsx(SalaryCards,{data:data.posts}),!loading&&!error&&filterPosts.length!==0&&/*#__PURE__*/_jsx(SalaryCards,{data:filterPosts}),!loading&&filterError&&filterPosts.length===0&&/*#__PURE__*/_jsx(NoMatchError,{})]});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/:githubName\",render:function render(_ref2){var match=_ref2.match;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{match:match}),/*#__PURE__*/_jsx(Cover,{data:data}),/*#__PURE__*/_jsx(MainPage,{toggle:drawerToggleClickHandler,match:match}),/*#__PURE__*/_jsx(SlideDrawer,{toggle:drawerToggleClickHandler,show:drawerOpen}),drawerOpen&&/*#__PURE__*/_jsx(Backdrop,{close:backdropClickHandler}),/*#__PURE__*/_jsx(FilterForm,{handleFilters:handleFilters,clearFilterButton:clearFilterButton}),loading&&/*#__PURE__*/_jsx(Loader,{}),!loading&&error&&/*#__PURE__*/_jsx(Error,{err:error}),!loading&&!error&&filterPosts.length===0&&!filterError&&/*#__PURE__*/_jsx(SalaryCards,{data:data.posts}),!loading&&!error&&filterPosts.length!==0&&/*#__PURE__*/_jsx(SalaryCards,{data:filterPosts}),!loading&&filterError&&filterPosts.length===0&&/*#__PURE__*/_jsx(NoMatchError,{})]});}}),/*#__PURE__*/_jsx(Route,{path:\"*\",render:function render(){return/*#__PURE__*/_jsx(NotFound,{});}})]})});};export default App;","map":{"version":3,"sources":["/Users/darlaevans/turing/mod4/salary-sight/src/Components/App/App.js"],"names":["useState","useEffect","Route","Switch","Header","Cover","SlideDrawer","Backdrop","MainPage","SalaryCards","Loader","NoMatchError","NotFound","Error","FilterForm","useQuery","GET_POST","filterByCategories","cleanFilters","App","drawerOpen","setDrawerOpen","salaryPosts","setSalaryPosts","filterPosts","setFilterPosts","filterError","setFilterError","data","loading","error","drawerToggleClickHandler","backdropClickHandler","handleFilters","filterObj","cleanedFilters","salaryObject","salary","length","clearFilterButton","e","console","log","posts","match"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Header from \"../Header/Header\";\nimport Cover from \"../Cover/Cover\";\nimport SlideDrawer from \"../Form/SlideDrawer\";\nimport Backdrop from \"../Form/Backdrop\";\nimport MainPage from \"../Form/MainPage\";\nimport SalaryCards from \"../SalaryCards/SalaryCards\";\nimport Loader from \"../Loader/Loader\";\nimport NoMatchError from \"../NoMatchError/NoMatchError\";\nimport NotFound from \"../NotFound/NotFound\";\nimport Error from \"../Error/Error\";\nimport FilterForm from \"../FilterForm/FilterForm\";\nimport { useQuery } from \"@apollo/client\";\nimport { GET_POST } from \"../..\";\nimport {\n  filterByCategories,\n  cleanFilters,\n} from \"../FilterForm/helperFunctions\";\n\nconst App = () => {\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [salaryPosts, setSalaryPosts] = useState([]);\n  const [filterPosts, setFilterPosts] = useState([]);\n  const [filterError, setFilterError] = useState(\"\");\n  const { data, loading, error } = useQuery(GET_POST);\n\n  const drawerToggleClickHandler = () => {\n    setDrawerOpen(!drawerOpen);\n  };\n\n  const backdropClickHandler = () => {\n    setDrawerOpen(false);\n  };\n\n  const handleFilters = (filterObj) => {\n    const cleanedFilters = cleanFilters(filterObj);\n    const salaryObject = filterObj.salary;\n    setFilterPosts(\n      filterByCategories(cleanedFilters, salaryPosts, salaryObject)\n    );\n    if (filterPosts.length === 0) {\n      setFilterError(true);\n    } else if (filterPosts.length !== 0) {\n      return filterPosts;\n    } else {\n      return salaryPosts;\n    }\n  };\n\n  const clearFilterButton = (e) => {\n    if (filterPosts && !loading) {\n      setFilterPosts([]);\n      setFilterError(false);\n    }\n  };\n\n  useEffect(() => {\n    if (loading) {\n      console.log(\"loading\", loading);\n    } else if (error) {\n      console.log(\"error\", error);\n    } else {\n      setSalaryPosts(data.posts);\n    }\n  }, [data, loading, error]);\n\n  return (\n    <div>\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={({ match }) => {\n            return (\n              <>\n                <Header match={match} />\n                <Cover data={data} />\n                <MainPage toggle={drawerToggleClickHandler} match={match} />\n                <SlideDrawer\n                  toggle={drawerToggleClickHandler}\n                  show={drawerOpen}\n                />\n                {drawerOpen && <Backdrop close={backdropClickHandler} />}\n                <FilterForm\n                  handleFilters={handleFilters}\n                  clearFilterButton={clearFilterButton}\n                />\n                {loading && <Loader />}\n                {!loading && error && <Error err={error} />}\n                {!loading &&\n                  !error &&\n                  filterPosts.length === 0 &&\n                  !filterError && <SalaryCards data={data.posts} />}\n                {!loading && !error && filterPosts.length !== 0 && (\n                  <SalaryCards data={filterPosts} />\n                )}\n                {!loading && filterError && filterPosts.length === 0 && (\n                  <NoMatchError />\n                )}\n              </>\n            );\n          }}\n        />\n        <Route\n          exact\n          path=\"/:githubName\"\n          render={({ match }) => {\n            return (\n              <>\n                <Header match={match} />\n                <Cover data={data} />\n                <MainPage toggle={drawerToggleClickHandler} match={match} />\n                <SlideDrawer\n                  toggle={drawerToggleClickHandler}\n                  show={drawerOpen}\n                />\n                {drawerOpen && <Backdrop close={backdropClickHandler} />}\n                <FilterForm\n                  handleFilters={handleFilters}\n                  clearFilterButton={clearFilterButton}\n                />\n                {loading && <Loader />}\n                {!loading && error && <Error err={error} />}\n                {!loading &&\n                  !error &&\n                  filterPosts.length === 0 &&\n                  !filterError && <SalaryCards data={data.posts} />}\n                {!loading && !error && filterPosts.length !== 0 && (\n                  <SalaryCards data={filterPosts} />\n                )}\n                {!loading && filterError && filterPosts.length === 0 && (\n                  <NoMatchError />\n                )}\n              </>\n            );\n          }}\n        />\n        <Route path=\"*\" render={() => <NotFound />} />\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}